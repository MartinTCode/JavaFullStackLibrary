<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.ToggleButton?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.FlowPane?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.shape.Rectangle?>
<?import javafx.scene.text.Text?>

<BorderPane 
    fx:id="mainPane" 
    xmlns="http://javafx.com/javafx/23.0.1" 
    xmlns:fx="http://javafx.com/fxml/1" 
    stylesheets="@../styles/common.css">

   <!-- Main Layout uses .root in CSS for background etc. -->
   <top>
      <!-- Top Menu Background -->
      <StackPane>
         <Region 
            styleClass="top-menu-region" />
      <!-- Top Menu Buttons -->
      <StackPane 
            BorderPane.alignment="CENTER">
         <children>
            <FlowPane 
                  styleClass="flow-pane-padding">
               <children>
                  <StackPane>
                     <!-- Home Button -->
                     <ImageView 
                           fx:id="homeMenuGuest" 
                           styleClass="home-icon-active"/>
                     <!-- Transparent Region for Click Handling -->
                     <Region 
                           style="-fx-background-color: transparent;" 
                           onMouseClicked="#clickedHomeMenuGuest"/>
                  </StackPane>

                  <StackPane>
                     <!-- Search Button -->
                     <ImageView 
                           fx:id="searchMenuGuest" 
                           styleClass="search-icon-active"/>
                     <!-- Transparent Region for Click Handling -->
                     <Region 
                           style="-fx-background-color: transparent;" 
                           onMouseClicked="#clickedSearchMenuGuest"/>
                  </StackPane>

                  <StackPane>
                     <!-- Sign In Button -->
                     <ImageView 
                           fx:id="signInMenuGuest" 
                           styleClass="sign-in-icon-inactive"/>
                     <!-- No click handler for inactive button -->
                  </StackPane>
               </children>
            </FlowPane>
         </children>
      </StackPane>
      </StackPane>
   </top>

   <center>
      <!-- Center Content -->
      <StackPane 
            prefHeight="270.0" 
            prefWidth="612.0" 
            BorderPane.alignment="CENTER">
         <children>
            <!-- Semi-transparent Rectangle -->
            <Rectangle 
                  height="218.0" 
                  width="451.0" 
                  styleClass="rectangle-center" />
            
            <!-- Sign-in Form -->
            <VBox 
                  alignment="CENTER" 
                  maxWidth="-Infinity" 
                  prefHeight="358.0" 
                  prefWidth="285.0" 
                  spacing="20.0">
               <children>
                  <!-- Sign-in Title -->
                  <Text 
                        text="Sign in as Library User" 
                        styleClass="text-title" />
                  
                  <!-- Social Security Number Field -->
                  <TextField 
                        fx:id="ssnField" 
                        styleClass="text-field" 
                        text="Social Security Number (YYYYMMDD-XXXX)" />
                  
                  <!-- Password Management -->
                  <VBox 
                        prefHeight="38.0" 
                        prefWidth="285.0">
                     <children>
                        <!-- Password Field -->
                        <TextField 
                              fx:id="passwordField" 
                              styleClass="text-field" 
                              text="Password" />
                        
                        <!-- Forgot Password Link -->
                        <Text 
                              fx:id="forgotPasswordText" 
                              styleClass="text-link" 
                              onMouseClicked="#clickedfForgotPasswordText" 
                              text="Forgot password?" />
                     </children>
                  </VBox>

                  <!-- Sign-in Button -->
                  <Button 
                        fx:id="signInButton" 
                        styleClass="button" 
                        onMouseClicked="#clickedSignInButton" 
                        text="Sign in" />
               </children>
            </VBox>
         </children>
      </StackPane>
   </center>

   <bottom>
      <!-- Bottom Menu -->
      <FlowPane 
            alignment="CENTER_RIGHT" 
            prefHeight="55.0" 
            BorderPane.alignment="CENTER_RIGHT" 
            styleClass="bottom-menu-padding">
         <children>
            <!-- User Toggle -->
            <ToggleButton 
                  fx:id="userButton" 
                  styleClass="toggle-button-selected" 
                  text="User" />
            
            <!-- Staff Toggle -->
            <ToggleButton 
                  fx:id="staffButton" 
                  styleClass="toggle-button" 
                  onMouseClicked="#clickedStaffButton" 
                  text="Staff" />
         </children>
      </FlowPane>
   </bottom>
</BorderPane>